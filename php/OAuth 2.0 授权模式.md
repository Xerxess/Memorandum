# OAuth 2.0 授权模式 

OAuth 2.0 是一个授权的开放网络标准

## 角色

* Resource Owner：资源所有者，既用户
* User Agent：用户代理
* Authorization Server：既提供第三方登录服务的服务器
* Client：第三方应用，我们的应用就是一个client

## 客户端的授权模式类型

* 授权码模式
* 隐式授权模式
* 密码模式
* 客户端模式

> 授权码模式

第三方授权登录，比如谷歌账号

1. 发起一个请求，会带参数，向授权服务器发送授权请求

```
response_type：表示授权类型，必选项
client_id：表示客户端的ID，必选项，一般是在授权服务器上申请应用的时候，颁发的
redirect_uri：重定向的 uri
scope：表示申请的权限范围
state：表示客户端的当前状态，可以是任意值，认证服务器会原封不动的返回这个值
```

2. 引导用户进入授权页面
3. 授权服务器会返回授权码（code）和状态参数（state），返回请求到相应的回调地址（redirect_uri）。
4. 通过授权码，直接向授权服务器请求访问令牌

```
grant_type：授权模式，必选项，值  "authorization_code"
code：从授权服务器收到的授权码
redirect_uri：回调地址
client_id：标识应用ID
client_secret：授权服务器颁发的密钥
```

> 隐式授权模式

* 与授权码模式 相同 不同在于是直接获取token (不需要经过code步骤)

> 密码模式

1. 资源所有者像客户端提供他的用户名和密码
2. 当发起请求客户端向授权服务器进行身份认证
3. 授权服务器对客户端进行身份验证，验证资源所有者的凭证，如果有效则颁发访问令牌。

> 客户端模式

客户端的行为，而非用户行为
 
1. 客户端向授权服务器请求验证，并要求一个访问令牌
2. 授权服务器向客户端进行身份验证，如果有效，则颁发一个访问令牌
