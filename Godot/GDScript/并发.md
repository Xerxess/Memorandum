<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [并发](#并发)

<!-- /code_chunk_output -->

# 并发

https://docs.godotengine.org/zh-cn/4.4/tutorials/scripting/gdscript/gdscript_basics.html#awaiting-signals-or-coroutines

- GDScript 的并发编程主要依靠协程、多线程和信号系统。
- await 关键字可以用来创建协程，会等待某个信号发出之后再继续执行下面的代码。
- 对信号或者对同为协程的函数调用使用 await 关键字会立即将控制权返回给调用方。
- 发出信号时（或者调用的协程函数完成时），就会从停止的地方继续往下执行代码。

```gdscript
# wait_confirmation 协程函数，调用方也需要对它进行等待操作
func wait_confirmation():
    print("Prompting user")

    # 等待来自 Button 节点的 button_up 信号。
    await $Button.button_up

    print("User confirmed")
    return true
```