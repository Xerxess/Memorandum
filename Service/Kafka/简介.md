
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [Kafka 是什么](#kafka-是什么)
  - [核心能力](#核心能力)
  - [应用场景](#应用场景)
  - [核心概念](#核心概念)

<!-- /code_chunk_output -->

# Kafka 是什么

Apache Kafka 是一个分布式流处理平台

## 核心能力

- 高吞吐量、低延迟： 每秒处理百万级消息，毫秒级延迟。
- 可扩展性： 通过增加 Broker（节点）轻松扩展集群。
- 持久性： 消息被持久化到磁盘，支持回溯消费。
- 高可用性： 通过数据副本机制保证故障自动转移。

## 应用场景

- 日志收集系统
- 消息队列（解耦服务）
- 实时流处理（如 ETL）
- 用户活动追踪

## 核心概念

- Producer（生产者）： 负责将消息发送到 Kafka 集群的应用。
- Consumer（消费者）： 负责从 Kafka 集群读取消息的应用。
- Broker（代理）： Kafka 集群中的每一个服务节点。
- Topic（主题）： 消息的逻辑分类名称（例如：user-login-events）。
- Partition（分区）Partition（分区）
  - 为了实现扩展性，一个 Topic 分为多个 Partition。
  - Partition 是有序的，但 Topic 整体无序。
  - 每条消息在 Partition 内有一个唯一的 Offset（偏移量）。
- Replica（副本）：
  - 分区的备份，用于容灾。
  - Leader: 处理读写请求。
  - Follower: 同步 Leader 数据，Leader 挂掉后竞选成为新 Leader。
- Consumer Group（消费者组）
  - 逻辑上的消费者分组。
  - 核心规则： 一个 Partition 在同一个 Consumer Group 内，只能被其中一个 Consumer 消费。这实现了负载均衡。
