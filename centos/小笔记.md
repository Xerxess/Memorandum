<!-- TOC -->

- [vmware 安装 centos8 之网络配置](#vmware-安装-centos8-之网络配置)
- [安装 vmware-tools](#安装-vmware-tools)
- [手动挂载共享目录](#手动挂载共享目录)
- [自动挂载共享目录](#自动挂载共享目录)
- [查看 ip](#查看-ip)
- [磁盘管理](#磁盘管理)
- [安装 NodeJS](#安装-nodejs)
- [查看端口](#查看端口)
- [防火墙 firewalld](#防火墙-firewalld)
- [iptables](#iptables)
- [Linux(yum & rpm & dpkg & apt)](#linuxyum--rpm--dpkg--apt)
    - [RedHat 系列](#redhat-系列)
    - [Debian 系列](#debian-系列)
- [service](#service)
- [systemctl](#systemctl)
- [常用软件](#常用软件)

<!-- /TOC -->

# vmware 安装 centos8 之网络配置

以 root 权限登陆 centos8 并编辑 vi /etc/sysconfig/network-scripts/ifcfg-ens33

```
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=static(|dhcp) #注意设置为static静态
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens33
UUID=aa18fb34-fea8-4fff-83a4-1ebed631beff
DEVICE=ens33
ONBOOT=yes #这里如果为no的话就改为yes，表示网卡设备自动启动
GATEWAY=192.168.0.2 #这里的网关地址就是上一步获取到的那个网关地址
IPADDR=192.168.0.150 #再网关的范围内随意写
NETMASK=255.255.255.0 #子网掩码
DNS1=8.8.8.8 #DNS1这里用谷歌,
DNS2=223.6.6.6 #DNS2用阿里
```

```
service network restart
```

# 安装 vmware-tools

https://docs.vmware.com/cn/VMware-Workstation-Pro/15.0/com.vmware.ws.using.doc/GUID-08BB9465-D40A-4E16-9E15-8C016CC8166F.html

https://docs.vmware.com/cn/VMware-Tools/index.html

https://docs.vmware.com/en/VMware-Workstation-Player-for-Windows/15.0/com.vmware.player.win.using.doc/GUID-AB5C80FE-9B8A-4899-8186-3DB8201B1758.html

https://manned.org/vmware-hgfsclient/3a100d69

- 点击 VMware 菜单栏【虚拟机】，选择【安装 VMware Tools】
- 系统挂载 mount -t iso9660 /dev/cdrom /mnt/cdrom
- tar -zxvf VMwareTools-**\*\*\***.tar.gz
- 运行 vmware-install.pl 文件

```
# * is not a valid path to the 3.10.0-693.el7.x86_64 kernel headers.
yum install "kernel-devel-uname-r == $(uname -r)"
```

# 手动挂载共享目录

```
# 查看共享目录是否已经设置成功
# vmware-hgfsclient

# centos 7 需要先执行 
# yum install open-vm-tools

# VMShare是共享文件夹名，/mnt/hgfs是挂载目录
# vmhgfs-fuse .host:/centos_share /mnt/centos_share

# 卸载
# vmware-uninstall-tools.pl
```

# 自动挂载共享目录

# 查看 ip

```
ifconfig
```

# 磁盘管理

```

```

# 安装 NodeJS

```
tar -xvf node-v10.16.0-linux-x64.tar.xz


vi /ect/profile
# export PATH=$PATH:/usr/local/nodejs/bin

source /etc/profile
```

# 查看端口

```
netstat -tunlp
```

# 防火墙 firewalld

- CentOS 7 自带

```cmd

# yum install -y firewalld

# 启动/关闭
# systemctl start firewalld
# systemctl stop firewalld

# 查看状态
# systemctl status firewalld

# 开机启动/取消开机启动
# systemctl enable firewalld
# systemctl disable firewalld



// 查看开放的端口/添加端口/删除端口
// 文件/etc/firewall/zones/public.xml
firewall-cmd --zone=public --list-ports
// --permanent 永久生效
firewall-cmd --zone=public --add-port=80/tcp --permanent
firewall-cmd --zone=public --add-port=8388-8389/tcp --permanent
firewall-cmd --zone=public --remove-port=80/tcp --permanent


// 重启
firewall-cmd --reload
```

# iptables

- itpables 访问量小 CentOS 5、CentOS 6 自带

iptables 其实是一个命令行工具，位于用户空间，我们用这个工具操作真正的框架

```cmd
# yum install iptables

service iptables start
service iptables restart

# linux iptables开放端口命令
# INPUT——进来的数据包应用此规则链中的策略
# OUTPUT——外出的数据包应用此规则链中的策略
# FORWARD——转发数据包时应用此规则链中的策略
# PREROUTING——(路由前)对数据包作路由选择前应用此链中的规则
# POSTROUTING——(路由后)对数据包作路由选择后应用此链中的规则
# 配制文件 /etc/sysconfig/iptables
iptables -I INPUT -p tcp --dport 8080 -j ACCEPT
iptables -I INPUT -p tcp -m multiport --dport 20,21,80 -j ACCEPT
iptables -I INPUT -p tcp --dport 20450:20480 -j ACCEPT
```

# Linux(yum & rpm & dpkg & apt)

- RedHat 系列：Redhat、Centos、Fedora 等
- Debian 系列：Debian、Ubuntu 等

dpkg 和 rpm 命令解决安装，卸载和查询，对于软件包直接的依赖，比如安装的软件包依赖于很多其他的软件包，这两个软件只会将依赖打印出来告诉用户，需要用户一个一个的手动去先安装依赖，当依赖包又依赖其他包时，对于用户实在是不够友好，于是 apt 和 yum 出现了，他们的能够自动将依赖下载安装，他们在包的安装时会依赖于 dpkg 和 rpm 命令

## RedHat 系列

- 常见的安装包格式 rpm 包，安装 rpm 包的命令是“rpm -参数”
- 包管理工具 yum
- 支持 tar 包
- 可执行文件位置 /usr/bin

## Debian 系列

- 常见的安装包格式 deb 包，安装 deb 包的命令是“dpkg -参数”
- 包管理工具 apt-get
- 支持 tar 包
- 可执行文件位置 /usr/bin

# service

```
# bash: service: command not found
# yum install initscripts -y
```

# systemctl

systemctl 命令是系统服务管理器指令，它实际上将 service 和 chkconfig 这两个命令组合到一起。

| 任务                 | 旧指令                       | 新指令                                                                                                |
| -------------------- | ---------------------------- | ----------------------------------------------------------------------------------------------------- |
| 使某服务自动启动     | chkconfig –level 3 httpd on  | systemctl enable httpd.service                                                                        |
| 使某服务不自动启动   | chkconfig –level 3 httpd off | systemctl disable httpd.service                                                                       |
| 检查服务状态         | service httpd status         | systemctl status httpd.service （服务详细信息）systemctl is-active httpd.service （仅显示是否 Active) |
| 显示所有已启动的服务 | chkconfig –list              | systemctl list-units —type=service                                                                    |
| 启动某服务           | service httpd start          | systemctl start httpd.service                                                                         |
| 停止某服务           | service httpd stop           | systemctl stop httpd.service                                                                          |
| 重启某服务           | service httpd restart        | systemctl restart httpd.service                                                                       |
```

```

# 常用软件

```
# yum install -y wget
# yum install -y vim-enhanced

# (ifconfig)
# yum install -y net-tools

# linux命令自动补全
# yum install bash-completion

# gcc (nginx之类由c语言开发的，编译的时候需要用到)
# yum -y install gcc-c++

# PCRE (Perl库，包括 perl 兼容的正则表达式库)
# yum -y install pcre pcre-devel

# zlib (zlib库提供了很多种压缩和解压缩的方式)
# yum -y install zlib zlib-devel ruby

# openssl (OpenSSL 是一个强大的安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理功能及SSL协议)
# yum -y install openssl openssl-devel patch

# 虚拟机上传下载组件( 支持从windows直接拖拽文件，相当好用)
# rz+文件名(上传)
# sz+文件名(下载)
# yum -y install lrzsz

# centos  64位系统兼容32位运行程序（aapt）
# yum install -y zlib.i686 libstdc++.i686
```
