<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [PostgreSQL 数据类型](#postgresql-数据类型)
  - [基础类型](#基础类型)
  - [复合类型 (Composite Types)](#复合类型-composite-types)

<!-- /code_chunk_output -->


# PostgreSQL 数据类型

## 基础类型

| 名称 (Name) | 别名 (Aliases) | 描述 (Description) |
|------------|---------------|-------------------|
| bigint | int8 | 有符号八字节整数 |
| bigserial | serial8 | 自增八字节整数 |
| bit [ (n) ] |  | 固定长度比特串 |
| bit varying [ (n) ] | varbit [ (n) ] | 可变长度比特串 |
| boolean | bool | 逻辑布尔值（真/假） |
| box |  | 平面上的矩形盒子 |
| bytea |  | 二进制数据（"字节数组"） |
| character [ (n) ] | char [ (n) ] | 固定长度字符串 |
| character varying [ (n) ] | varchar [ (n) ] | 可变长度字符串 |
| cidr |  | IPv4 或 IPv6 网络地址 |
| circle |  | 平面上的圆 |
| date |  | 日历日期（年、月、日） |
| double precision | float, float8 | 双精度浮点数（8 字节） |
| inet |  | IPv4 或 IPv6 主机地址 |
| integer | int, int4 | 有符号四字节整数 |
| interval [ fields ] [ (p) ] |  | 时间跨度 |
| json |  | 文本 JSON 数据 |
| jsonb |  | 分解后的二进制 JSON 数据 |
| line |  | 平面上的无限长直线 |
| lseg |  | 平面上的线段 |
| macaddr |  | MAC（媒体访问控制）地址 |
| macaddr8 |  | MAC（媒体访问控制）地址（EUI-64 格式） |
| money |  | 货币金额 |
| numeric [ (p, s) ] | decimal [ (p, s) ] | 可选择精度的精确数值 |
| path |  | 平面上的几何路径 |
| pg_lsn |  | PostgreSQL 日志序列号 |
| pg_snapshot |  | 用户级交易 ID 快照 |
| point |  | 平面上的几何点 |
| polygon |  | 平面上的闭合几何路径 |
| real | float4 | 单精度浮点数（4 字节） |
| smallint | int2 | 有符号双字节整数 |
| smallserial | serial2 | 自增双字节整数 |
| serial | serial4 | 自增四字节整数 |
| text |  | 可变长度字符串 |
| time [ (p) ] [ without time zone ] |  | 一天中的时间（不限时区） |
| time [ (p) ] with time zone | timetz | 一天中的时间，包括时区 |
| timestamp [ (p) ] [ without time zone ] |  | 日期和时间（不含时区） |
| timestamp [ (p) ] with time zone | timestamptz | 日期和时间，包括时区 |
| tsquery |  | 文本搜索查询 |
| tsvector |  | 文本搜索文档 |
| txid_snapshot |  | 用户级事务 ID 快照（已弃用；请参阅 pg_snapshot） |
| uuid |  | 通用唯一标识符 |
| xml |  | XML 数据 |

## 复合类型 (Composite Types)

- ROW 表达式语法也可用于构建复合值。

```sql
-- 定义一个“坐标”类型
CREATE TYPE inventory_item AS (
    name            text,
    supplier_id     integer,
    price           numeric
);

-- 在表中使用该类型
CREATE TABLE on_hand (
    item      inventory_item,
    count     integer
);

-- 插入数据
INSERT INTO on_hand VALUES (ROW('fuzzy dice', 42, 1.99), 1000);

-- 查询特定字段（注意必须加括号）
SELECT (item).name FROM on_hand WHERE (item).price > 1.0;
```