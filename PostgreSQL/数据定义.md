

# 数据定义

```sql
CREATE TABLE my_first_table (
    first_column text,
    second_column integer
);

-- 指定默认值
-- 没有显式声明默认值，则默认值为空值
CREATE TABLE products (
    product_no integer,
    name text,
    price numeric DEFAULT 9.99
);

--  SQL 标准的自增实现，也是目前官方推荐替代传统 SERIAL 类型的方案。
CREATE TABLE people (
    id bigint GENERATED ALWAYS AS IDENTITY,
    ...,
);
CREATE TABLE people (
    id bigint GENERATED BY DEFAULT AS IDENTITY,
    ...,
);

-- 根据表中其他列的表达式自动计算
CREATE TABLE people (
    ...,
    height_cm numeric,
    height_in numeric GENERATED ALWAYS AS (height_cm / 2.54) STORED
);

-- 检查约束条件
CREATE TABLE products (
    product_no integer,
    name text,
    price numeric CHECK (price > 0)
);

-- 非空约束
CREATE TABLE products (
    product_no integer NOT NULL,
    name text NOT NULL,
    price numeric
);

-- 唯一约束
CREATE TABLE products (
    product_no integer UNIQUE,
    name text,
    price numeric
);

-- 仅允许一个 NULL
CREATE TABLE products (
    product_no integer UNIQUE NULLS NOT DISTINCT,
    name text,
    price numeric
);

-- 主键
CREATE TABLE products (
    product_no integer PRIMARY KEY,
    name text,
    price numeric
);

-- 外键
CREATE TABLE orders (
    order_id integer PRIMARY KEY,
    product_no integer REFERENCES products (product_no),
    quantity integer
);
```