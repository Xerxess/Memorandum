
# 安装

https://www.postgresql.org/download/

## 环境变量

```cmd
# 方便 PostgreSQL 的使用
# 将以下内容添加到您的 shell 启动文件中，例如 ~/.bash_profile （如果您希望它影响所有用户，则添加到 /etc/profile ）
PATH=/usr/local/pgsql/bin:$PATH
export PATH
```

## 管理服务

```cmd
# 检查状态（应显示 active (running)）
sudo systemctl status postgresql

# 设置开机自启
sudo systemctl enable postgresql
```

## 初始配置与连接

```cmd
sudo -i -u postgres
psql
```

```sql
-- 修改超级用户密码
ALTER USER postgres WITH PASSWORD '你的新密码';
\q  -- 退出
```

## 创建新用户和数据库

```sql
-- 创建新用户并设置密码
CREATE ROLE myuser WITH LOGIN PASSWORD 'mypassword';

-- 创建归属于该用户的数据库
CREATE DATABASE mydb OWNER myuser;
```

## 配置远程访问（可选）





```cmd
# 允许监听所有 IP：编辑 /etc/postgresql/18/main/postgresql.conf，
将 # listen_addresses = 'localhost' 改为 listen_addresses = '*'

# 配置身份验证 编辑 /etc/postgresql/18/main/pg_hba.conf，在末尾添加：
host all all 0.0.0.0/0 scram-sha-256

# 重启服务： 
sudo systemctl restart postgresql。 
```