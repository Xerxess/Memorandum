

# 从已修改的行返回数据

DELETE INSERT UPDATE MERGE 都提供了一个可选的 RETURNING 子句来支持此功能。使用 RETURNING 子句可以避免执行额外的数据库查询来收集数据，这在难以可靠地识别已修改行的情况下尤为重要。

```sql
CREATE TABLE users (firstname text, lastname text, id serial primary key);
INSERT INTO users (firstname, lastname) VALUES ('Joe', 'Cool') RETURNING id;


UPDATE products SET price = price * 1.10
    WHERE price <= 99.99
    RETURNING name, price AS new_price;

DELETE FROM products
    WHERE obsoletion_date = 'today'
    RETURNING *;
```