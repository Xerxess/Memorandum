<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [类型转换](#类型转换)
  - [双冒号语法（PostgreSQL 特有，最简便）](#双冒号语法postgresql-特有最简便)
  - [标准 SQL 语法（跨数据库通用）](#标准-sql-语法跨数据库通用)
  - [类型转换函数](#类型转换函数)

<!-- /code_chunk_output -->

# 类型转换

## 双冒号语法（PostgreSQL 特有，最简便）

```sql
SELECT '100'::integer + 1;         -- 字符串转整数
SELECT 1.234::text;                -- 数字转文本
SELECT '2025-12-21'::date;         -- 字符串转日期
SELECT 1::boolean, 0::boolean;     -- 数字转布尔值 (1=t, 0=f)
```

## 标准 SQL 语法（跨数据库通用）

```sql
SELECT CAST('2025-01-01' AS TIMESTAMP);
SELECT CAST(price AS numeric(10,2)) FROM products;
```

## 类型转换函数

- to_char(): 转为格式化字符串。
- to_number(): 字符串转数字。
- to_date() / to_timestamp(): 字符串转日期时间。

```sql
-- 将日期转为特定格式的字符串
SELECT to_char(now(), 'YYYY-MM-DD HH24:MI:SS'); 

-- 将带符号的字符串转为数字
SELECT to_number('￥1,234.56', 'L9,999.99'); 
```